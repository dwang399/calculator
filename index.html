<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Calculator</title>
    </head>
    <body>
        <button id = 0 class = 'num' onclick="assignment(0)">0</button>
        <button id = 1 class = 'num' onclick="assignment(1)">1</button>
        <button id = 2 class = 'num' onclick="assignment(2)">2</button>
        <button id = 3 class = 'num' onclick="assignment(3)">3</button>
        <button id = 4 class = 'num' onclick="assignment(4)">4</button>
        <button id = 5 class = 'num' onclick="assignment(5)">5</button>
        <button id = 6 class = 'num' onclick="assignment(6)">6</button>
        <button id = 7 class = 'num' onclick="assignment(7)">7</button>
        <button id = 8 class = 'num' onclick="assignment(8)">8</button>
        <button id = 9 class = 'num' onclick="assignment(9)">9</button>
        <button id = 'addition' onclick="operatorAssignmentAddition()">+</button>
        <button id = 'subtraction' onclick="operatorAssignmentSubtraction()">-</button>
        <button id = 'multiplication' onclick="operatorAssignmentMultiplication()">x</button>
        <button id = 'division' onclick="operatorAssignmentDivision()">/</button>
        <button onclick="refresh()">c</button>
        <button onclick="operate()">=</button>
        <div id="screen">0</div>
        
        <script>
            
            function operatorAssignmentAddition() {
                if (operand === 'blank') {
                    operand = '+';
                    document.getElementById("screen").textContent = '+';
                } else {
                    document.getElementById("screen").textContent = operate() + ' +';
                    operand = '+';
                }
                ;
                return;
            }
            function operatorAssignmentSubtraction() {
                if (operand === 'blank') {
                    operand = '-';
                    document.getElementById("screen").textContent = '-';
                } else {
                    document.getElementById("screen").textContent = operate() + ' -';
                    operand = '-';
                }
                return;
            }
            function operatorAssignmentMultiplication() {
                if (operand === 'blank') {
                    operand = 'x';
                    document.getElementById("screen").textContent = 'x';
                } else {
                    document.getElementById("screen").textContent = operate() + ' x';
                    operand = 'x';
                }
                return;
            }
            function operatorAssignmentDivision() {
                if (operand === 'blank') {
                    operand = `/`;
                    document.getElementById("screen").textContent = `/`;
                } else {
                    document.getElementById("screen").textContent = operate() + ` /`;
                    operand = `/`;
                }
                return;
            }
            function refresh() {
                window.location.reload();
            }
            let a = 0;
            let b = 0;
            let c = 0;
            let d = 0;
            let intermediate = true;
            let operand = "blank";
            function assignment(x) {
                if (operand === "blank") {
                    a = '' + a + x;
                    a = parseInt(a);
                    document.getElementById("screen").textContent = a;
                } else if (intermediate) {
                    b = '' + b + x;
                    b = parseInt(b);
                    document.getElementById("screen").textContent = b;
                } else {
                    a = operate();
                    b = x;
                }
            }
            const add = (a, b) => a + b;
            const subtract = (a, b) => a - b;
            const multiply = (a, b) => a * b;
            const divide = (a, b) => a / b;
            const operate = function() {
                if (operand === '+') {
                    c = a;
                    d = b;
                    a = add(a, b);
                    b = 0;
                    console.log(add(c, d));
                    operand = "blank";
                    document.getElementById("screen").textContent = add(c, d);
                    return add(c, d);
                } else if (operand === 'x') {
                    c = a;
                    d = b;
                    a = multiply(a, b);
                    b = 0;
                    console.log(multiply(c, d));
                    operand = "blank";
                    document.getElementById("screen").textContent = multiply(c, d);
                    return multiply(c, d);
                } else if (operand === '/') {
                    if (b === 0) {
                        return alert('You know you are not supposed to divide by 0');
                    }
                    c = a;
                    d = b;
                    a = divide(a, b);
                    b = 0;
                    console.log(divide(c, d));
                    operand = "blank";
                    document.getElementById("screen").textContent = divide(c, d);
                    return divide(c, d);
                } else if (operand === '-') {
                    c = a;
                    d = b;
                    a = subtract(a, b);
                    b = 0;
                    console.log(subtract(c, d));
                    operand = 'blank';
                    document.getElementById("screen").textContent = subtract(c, d);
                    return subtract(c, d);
                };
            }
        </script>
    </body>
</html>